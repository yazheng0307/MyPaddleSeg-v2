

<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>paddleseg.datasets &mdash; MyPaddleSeg 1 文档</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/translations.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="视觉模型集" href="../models/index.html" />
    <link rel="prev" title="paddleseg.transforms" href="transforms.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> MyPaddleSeg
          

          
            
            <img src="../../_static/paddleseg.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">1. 快速了解PaddleSeg</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../quick_start.html">PaddleSeg十分钟快速上手</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">PaddleSeg安装步骤</a></li>
</ul>
<p class="caption"><span class="caption-text">2. 数据准备与处理</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../data/README.html">待补充</a></li>
</ul>
<p class="caption"><span class="caption-text">3. PaddleSeg设计思想</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../design/README.html">待补充</a></li>
</ul>
<p class="caption"><span class="caption-text">4. 模型训练</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../train/README.html">待补充</a></li>
</ul>
<p class="caption"><span class="caption-text">5. 模型评估</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../evaluation/README.html">待补充</a></li>
</ul>
<p class="caption"><span class="caption-text">6. 模型导出</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../export/README.html">待补充</a></li>
</ul>
<p class="caption"><span class="caption-text">7. 模型部署</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../deployment/README.html">待补充</a></li>
</ul>
<p class="caption"><span class="caption-text">8. API使用教程</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../API_Example.html">API应用案例</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API接口说明</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">数据处理与增强</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="transforms.html">paddleseg.transforms</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">paddleseg.datasets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#custom-dataset">Custom Dataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cityscapes">Cityscapes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pascalvoc">PascalVOC</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ade20k">ADE20K</a></li>
<li class="toctree-l4"><a class="reference internal" href="#opticdiscseg">OpticDiscSeg</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../models/index.html">视觉模型集</a></li>
<li class="toctree-l2"><a class="reference internal" href="../backbones.html">paddleseg.models.backbone</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core.html">paddleseg.core</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cvlibs.html">paddleseg.cvlibs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../losses.html">paddleseg.models.losses</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">9. 模型压缩量化</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../slim/README.html">待补充</a></li>
</ul>
<p class="caption"><span class="caption-text">10. 重要模块说明</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../module/README.html">待补充</a></li>
</ul>
<p class="caption"><span class="caption-text">11. 经典模型说明</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../models/unet.html">U-Net</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../models/deeplabv3.html">DeepLab V3+</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../models/ocrnet.html">OCRNet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../models/fascnn.html">Fast-SCNN</a></li>
</ul>
<p class="caption"><span class="caption-text">12. 产品实践解决方案</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../solution/README.html">待补充</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MyPaddleSeg</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">API接口说明</a> &raquo;</li>
        
          <li><a href="index.html">数据处理与增强</a> &raquo;</li>
        
      <li>paddleseg.datasets</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/apis/transforms/datasets.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="paddleseg-datasets">
<h1>paddleseg.datasets<a class="headerlink" href="#paddleseg-datasets" title="永久链接至标题">¶</a></h1>
<ul class="simple">
<li><p><a class="reference external" href="#custom-dataset">Custom Dataset</a></p></li>
<li><p><a class="reference external" href="#Cityscapes">Cityscapes</a></p></li>
<li><p><a class="reference external" href="#PascalVOC">PascalVOC</a></p></li>
<li><p><a class="reference external" href="#ADE20K">ADE20K</a></p></li>
<li><p><a class="reference external" href="#OpticDiscSeg">OpticDiscSeg</a></p></li>
</ul>
<div class="section" id="custom-dataset">
<h2><a class="reference external" href="../../paddleseg/datasets/dataset.py">Custom Dataset</a><a class="headerlink" href="#custom-dataset" title="永久链接至标题">¶</a></h2>
<blockquote>
<div><p>CLASS paddleseg.datasets.Dataset(transforms, dataset_root, num_classes, mode=’train’, train_path=None, val_path=None, test_path=None, separator=’ ‘, ignore_index=255, edge=False)</p>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Pass</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">custom</span> <span class="n">dataset</span> <span class="n">that</span> <span class="n">conforms</span> <span class="n">to</span> <span class="n">the</span> <span class="nb">format</span><span class="o">.</span>
</pre></div>
</div>
<blockquote>
<div><blockquote>
<div><p>Args</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>transforms</strong> (list): Transforms for image.</p></li>
<li><p><strong>dataset_root</strong> (str): The dataset directory.</p></li>
<li><p><strong>num_classes</strong> (int): Number of classes.</p></li>
<li><p><strong>mode</strong> (str, optional): which part of dataset to use. it is one of (‘train’, ‘val’, ‘test’). Default: ‘train’.</p></li>
<li><p><strong>train_path</strong> (str, optional): The train d**ataset file. When mode is ‘train’, train_path is necessary.
The contents of train_path file are as follow:
image1.jpg ground_truth1.png
image2.jpg ground_truth2.png</p></li>
<li><p><strong>val_path</strong> (str, optional): The evaluation dataset file. When mode is ‘val’, val_path is necessary.
The contents is the same as train_path</p></li>
<li><p><strong>test_path</strong> (str, optional): The test dataset file. When mode is ‘test’, test_path is necessary.
The annotation file is not necessary in test_path file.</p></li>
<li><p><strong>separator</strong> (str, optional): The separator of dataset list. Default: ‘ ‘.</p></li>
<li><p><strong>edge</strong> (bool, optional): Whether to compute edge while training. Default: False</p></li>
</ul>
</div></blockquote>
</div></blockquote>
</div></blockquote>
<blockquote>
<div><blockquote>
<div><p>Examples</p>
</div></blockquote>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">paddleseg.transforms</span> <span class="k">as</span> <span class="nn">T</span>
<span class="kn">from</span> <span class="nn">paddleseg.datasets</span> <span class="kn">import</span> <span class="n">Dataset</span>

<span class="n">transforms</span> <span class="o">=</span> <span class="p">[</span><span class="n">T</span><span class="o">.</span><span class="n">RandomPaddingCrop</span><span class="p">(</span><span class="n">crop_size</span><span class="o">=</span><span class="p">(</span><span class="mi">512</span><span class="p">,</span><span class="mi">512</span><span class="p">)),</span> <span class="n">T</span><span class="o">.</span><span class="n">Normalize</span><span class="p">()]</span>
<span class="n">dataset_root</span> <span class="o">=</span> <span class="s1">&#39;dataset_root_path&#39;</span>
<span class="n">train_path</span> <span class="o">=</span> <span class="s1">&#39;train_path&#39;</span>
<span class="n">num_classes</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="n">transforms</span> <span class="o">=</span> <span class="n">transforms</span><span class="p">,</span>
                  <span class="n">dataset_root</span> <span class="o">=</span> <span class="n">dataset_root</span><span class="p">,</span>
                  <span class="n">num_classes</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
                  <span class="n">train_path</span> <span class="o">=</span> <span class="n">train_path</span><span class="p">,</span>
                  <span class="n">mode</span> <span class="o">=</span> <span class="s1">&#39;train&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="cityscapes">
<h2><a class="reference external" href="../../paddleseg/datasets/cityscapes.py">Cityscapes</a><a class="headerlink" href="#cityscapes" title="永久链接至标题">¶</a></h2>
<blockquote>
<div><p>CLASS paddleseg.datasets.Cityscapes(transforms, dataset_root, mode=’train’, edge=False)</p>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Cityscapes dataset `https://www.cityscapes-dataset.com/`.
The folder structure is as follow:

    cityscapes
    |
    |--leftImg8bit
    |  |--train
    |  |--val
    |  |--test
    |
    |--gtFine
    |  |--train
    |  |--val
    |  |--test

Make sure there are **labelTrainIds.png in gtFine directory. If not, please run the conver_cityscapes.py in tools.
</pre></div>
</div>
<blockquote>
<div><blockquote>
<div><p>Args</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>transforms</strong> (list): Transforms for image.</p></li>
<li><p><strong>dataset_root</strong> (str): Cityscapes dataset directory.</p></li>
<li><p><strong>mode</strong> (str, optional): Which part of dataset to use. it is one of (‘train’, ‘val’, ‘test’). Default: ‘train’.</p></li>
<li><p><strong>edge</strong> (bool, optional): Whether to compute edge while training. Default: False</p></li>
</ul>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="pascalvoc">
<h2><a class="reference external" href="../../paddleseg/datasets/voc.py">PascalVOC</a><a class="headerlink" href="#pascalvoc" title="永久链接至标题">¶</a></h2>
<blockquote>
<div><p>CLASS paddleseg.datasets.PascalVOC(transforms, dataset_root=None, mode=’train’, edge=False)</p>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>PascalVOC2012 dataset `http://host.robots.ox.ac.uk/pascal/VOC/`.
If you want to augment the dataset, please run the voc_augment.py in tools.
</pre></div>
</div>
<blockquote>
<div><blockquote>
<div><p>Args</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>transforms</strong> (list): Transforms for image.</p></li>
<li><p><strong>dataset_root</strong> (str): The dataset directory. Default: None</p></li>
<li><p><strong>mode</strong> (str, optional): Which part of dataset to use. it is one of (‘train’, ‘trainval’, ‘trainaug’, ‘val’).
If you want to set mode to ‘trainaug’, please make sure the dataset have been augmented. Default: ‘train’.</p></li>
<li><p><strong>edge</strong> (bool, optional): Whether to compute edge while training. Default: False</p></li>
</ul>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="ade20k">
<h2><a class="reference external" href="../../paddleseg/datasets/ade.py">ADE20K</a><a class="headerlink" href="#ade20k" title="永久链接至标题">¶</a></h2>
<blockquote>
<div><p>CLASS paddleseg.datasets.ADE20K(transforms, dataset_root=None, mode=’train’, edge=False)</p>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>ADE20K dataset `http://sceneparsing.csail.mit.edu/`.
</pre></div>
</div>
<blockquote>
<div><blockquote>
<div><p>Args</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>transforms</strong> (list): A list of image transformations.</p></li>
<li><p><strong>dataset_root</strong> (str, optional): The ADK20K dataset directory. Default: None.</p></li>
<li><p><strong>mode</strong> (str, optional): A subset of the entire dataset. It should be one of (‘train’, ‘val’). Default: ‘train’.</p></li>
<li><p><strong>edge</strong> (bool, optional): Whether to compute edge while training. Default: False</p></li>
</ul>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="opticdiscseg">
<h2><a class="reference external" href="../../paddleseg/datasets/optic_disc_seg.py">OpticDiscSeg</a><a class="headerlink" href="#opticdiscseg" title="永久链接至标题">¶</a></h2>
<blockquote>
<div><p>CLASS paddleseg.datasets.OpticDiscSeg(dataset_root=None, transforms=None, mode=’train’, edge=False)</p>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>OpticDiscSeg dataset is extraced from iChallenge-AMD `https://ai.baidu.com/broad/subordinate?dataset=amd`.
</pre></div>
</div>
<blockquote>
<div><blockquote>
<div><p>Args</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>transforms</strong> (list): Transforms for image.</p></li>
<li><p><strong>dataset_root</strong> (str): The dataset directory. Default: None</p></li>
<li><p><strong>mode</strong> (str, optional): Which part of dataset to use. it is one of (‘train’, ‘val’, ‘test’). Default: ‘train’.</p></li>
<li><p><strong>edge</strong> (bool, optional): Whether to compute edge while training. Default: False</p></li>
</ul>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../models/index.html" class="btn btn-neutral float-right" title="视觉模型集" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="transforms.html" class="btn btn-neutral float-left" title="paddleseg.transforms" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; 版权所有 2021, liuzheng.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>